{
  "name": "mobile-detect.lua",
  "tagline": "Device detection (phone, tablet, desktop, mobile grade, os, versions)",
  "body": "[![Build Status](https://travis-ci.org/yourpalmark/mobile-detect.lua.svg?branch=master)](https://travis-ci.org/yourpalmark/mobile-detect.lua)\r\n\r\n# mobile-detect.lua\r\n\r\nA loose port of [Mobile-Detect](https://github.com/serbanghita/Mobile-Detect) to Lua for NGINX HTTP servers.\r\n\r\nThe script will detect the device by comparing patterns against a given User-Agent string.  \r\nThe following device information is available:\r\n\r\n  * mobile or not\r\n  * if mobile, whether phone or tablet\r\n  * operating system\r\n  * [Mobile Grade (A, B, C)](http://jquerymobile.com/gbs/)\r\n  * specific versions (e.g. WebKit)\r\n\r\nCurrent `master` branch is using detection logic from **Mobile-Detect@2.8.20**\r\n\r\n# Requirements\r\n\r\n* [NGINX compiled with Lua module](https://github.com/openresty/lua-nginx-module#installation)\r\n  * [OpenResty](http://openresty.org/) bundle is recommended\r\n* [CJSON](https://github.com/mpx/lua-cjson)\r\n  * If using OpenResty, CJSON is preinstalled\r\n  * If not: `luarocks install lua-cjson`\r\n* [Lrexlib - PCRE](https://github.com/rrthomas/lrexlib)\r\n  * `luarocks install lrexlib-PCRE`\r\n\r\n# Usage\r\n\r\n```nginx\r\ninit_by_lua_block {\r\n    mobile_detect = require \"mobile-detect\"\r\n}\r\n\r\ncontent_by_lua_block {\r\n    local user_agent = ngx.var.http_user_agent\r\n    ngx.say(mobile_detect.mobile(user_agent))\r\n    ngx.say(mobile_detect.is('iPhone', user_agent))\r\n    ngx.say(mobile_detect.is('bot', user_agent))\r\n}\r\n```\r\n\r\n# Contributing\r\n\r\nYour contribution is welcome.  \r\nIf you want new devices to be supported, please contribute to [Mobile-Detect](https://github.com/serbanghita/Mobile-Detect).  \r\nChanges there will cascade to this project.\r\n\r\nIf you have bug-fixes, new features, etc for this project, please follow the below steps:  \r\n*Note: To generate source from template, it requires [Mobile-Detect](https://github.com/serbanghita/Mobile-Detect) as a sibling directory to [mobile-detect.lua](https://github.com/yourpalmark/mobile-detect.lua)*\r\n\r\n * Clone [Mobile-Detect](https://github.com/serbanghita/Mobile-Detect)\r\n * Fork [mobile-detect.lua](https://github.com/yourpalmark/mobile-detect.lua)\r\n * Create branch\r\n * Make changes\r\n * Generate source: `php generate/generate.php` (requires PHP >= 5.4 in your PATH)\r\n * Run tests (see below)\r\n * Commit, push to your branch\r\n * Create pull request\r\n\r\n# Testing\r\n\r\n * Install Perl (add to PATH)\r\n * Install [Test::Nginx](https://github.com/openresty/test-nginx): `cpan Test::Nginx`\r\n * Run: `prove -r t`\r\n\r\n# License\r\n\r\nMIT-License (see LICENSE file)\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}